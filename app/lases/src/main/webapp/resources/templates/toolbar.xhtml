<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:a="http://xmlns.jcp.org/jsf/passthrough">


    <div class="card-header">
        <h:outputText value="#{labels.toolbar}"/>
    </div>
    <div class="card-body">
        <h:form id="add-reviewer-frm">
            <div class="form-group">
                <h:outputLabel for="add-reviewer-itxt" value="#{labels.emailInput}"/>
                <h:inputText id="add-reviewer-itxt" value="#{toolbarBacking.reviewerInput.emailAddress}"
                             title="#{help.addReviewerEmail}"
                             required="true" requiredMessage="#{message.requiredEmail}"
                             styleClass="form-control" >
                    <f:validator validatorId="emailAddressLayoutValidator"/>
                </h:inputText>
                <h:message for="add-reviewer-itxt"/>
            </div>
            <div class="form-group">
                <h:outputLabel for="add-deadline-reviewer-itxt" value="#{labels.deadline}"/>
                <h:inputText id="add-deadline-reviewer-itxt"
                             value="#{toolbarBacking.reviewedByInput.timestampDeadline}"
                             title="#{help.addReviewerDeadline}"
                             styleClass="form-control">
                    <f:convertDateTime type="localDateTime"/>
                    <f:validator validatorId="dateTimeInFuture"/>
                </h:inputText>
                <h:message for="add-deadline-reviewer-itxt"/>
            </div>
            <div class="form-group">
                <br/>
                <h:commandButton id="add-reviewer-cbtn"
                                 value="#{labels.addReviewer}"
                                 action="#{toolbarBacking.addReviewer()}"
                                 styleClass="btn btn-primary"
                                 title="#{help.addReviewerButton}"/>
            </div>
        </h:form>
        <h:form>
        <div id="list">
            <div class="row">
                <div class="col">
                    <h:dataTable value="#{toolbarBacking.reviewer}" var="user">
                        <h:column>
                                <h:commandButton value="#{labels.deleteButton}"
                                                 action="#{toolbarBacking.removeReviewer(user)}"
                                                 styleClass="btn btn-secondary btn-sm" />

                        </h:column>
                        <h:column>
                            <h:outputText value="#{user.firstName.concat(' ').concat(user.lastName).concat(': ')}"/>
                        </h:column>
                        <h:column>
                            <h:outputText value="#{toolbarBacking.reviewerDeadline.get(toolbarBacking.reviewer.indexOf(user)).timestampDeadline}">
                                <f:convertDateTime type="localDateTime"/>
                            </h:outputText>
                        </h:column>
                    </h:dataTable>
                </div>
            </div>
        </div>
        </h:form>
        <br/>
        <h:form id="select-editor-frm">
            <div class="form-group">
                <div class="form-group">
                    <div class="input-group">
                        <h:outputLabel id="current-editor-lbl" value="#{labels.selectEditor}" for="show-editor-itxt" styleClass="input-group"/>
                        <h:outputText id="show-editor-itxt"
                                      value="#{toolbarBacking.getTitle(toolbarBacking.currentEditor).concat(' ')
                                      .concat(toolbarBacking.currentEditor.firstName.concat(' ')
                                  .concat(toolbarBacking.currentEditor.lastName))}"/>
                    </div>
                    <br/>
                </div>
                <div class="input-group">
                    <h:outputLabel id="editor-lbl" value="#{labels.editor}" for="select-editor-slctom" styleClass="input-group-text"/>
                    <h:selectOneMenu id="select-editor-slctom"
                                     value="#{toolbarBacking.currentEditor.id}" title="#{help.chooseEditor}"
                                     styleClass="form-select">
                        <f:selectItems value="#{toolbarBacking.editors}" var="editor"
                                       itemValue="#{editor.id}"
                                       itemLabel="#{toolbarBacking.getTitle(editor).concat(' ').concat(editor.firstName.concat(' ').concat(editor.lastName))}"/>
                    </h:selectOneMenu>
                </div>
            </div>
            <br/>
            <div class="form-group">
                <div class="btn-group">
                    <h:commandButton id="save-editor-cbtn" value="#{labels.saveButton}"
                                     action="#{toolbarBacking.chooseNewManagingEditor}"
                                     styleClass="btn btn-primary"/>
                </div>
            </div>
        </h:form>
        <br/>
        <h:form id="revision-required-frm">
            <h:outputLabel id="revision-lbl" value="#{labels.revision}" for="revision-required-frm"/>
            <div class="form-group">
                <h:outputLabel id="revision-deadline-lbl" value="#{labels.deadline}"
                               for="revision-deadline-itxt" styleClass="input-group"/>
                <h:inputText id="revision-deadline-itxt" value="#{toolbarBacking.submission.deadlineRevision}"
                             title="#{help.addRevisionDeadline}">
                    <f:convertDateTime type="localDateTime"/>
                </h:inputText>
                <h:message for="revision-deadline-itxt" id="revision-requiered-msg"/>
            </div>
            <br/>
            <div class="form-group btn-group">
                <h:commandButton id="revision-required-cbtn" value="#{labels.revisionBtn}" action="#{toolbarBacking.requireRevision}"
                                 title="#{help.revisionRequired}" styleClass="btn btn-primary"/>
            </div>
        </h:form>
        <br/>
        <br/>
        <br/>
        <h:form id="accept-reject-frm">
            <div class="form-group">
                <div class="input-group-btn">
                    <h:commandButton id="accept-submission-cbtn" value="#{labels.acceptSubmission}"
                                     title="#{help.acceptBtn}"
                                     action="#{toolbarBacking.acceptSubmission}"
                                     styleClass="btn btn-primary input-group"
                                     disabled="#{toolbarBacking.accepted || toolbarBacking.rejected}"/>
                </div>
            </div>
            <br/>
            <div class="form-group">
                <div class="input-group-btn">
                    <h:commandButton id="reject-submission-cbtn" value="#{labels.rejectSubmission}"
                                     title="#{help.rejectBtn}"
                                     action="#{toolbarBacking.rejectSubmission}"
                                     styleClass="btn btn-primary input-group"
                                     disabled="#{toolbarBacking.rejected || toolbarBacking.accepted}"/>
                </div>
            </div>
        </h:form>
    </div>


</ui:composition>
