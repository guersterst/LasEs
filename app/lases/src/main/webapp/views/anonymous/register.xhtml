<ui:composition template="/resources/templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
    <f:metadata>
        <f:importConstants type="de.lases.control.internal.Constants" var="Const"/>
    </f:metadata>
    <ui:define name="title">#{labels['register']}</ui:define>

    <ui:define name="content">
        <div class="container-fluid">
            <h:outputText styleClass="h1" value="#{labels['register']}"/>
            <div>
                <h:form id="register-frm">
                    <!-- Title -->
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <h:outputText value="#{labels['titleInput']}"/>
                            </span>
                        </div>
                        <h:inputText id="title-itxt" value="#{registrationBacking.newUser.title}"
                                     maxlength="#{Const.TITLE_MAX}" styleClass="form-control"/>
                        <div><h:message for="title-itxt"/></div>
                    </div>
                    <!-- First name -->
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <h:outputText value="#{labels['firstName']}"/>
                            </span>
                        </div>
                        <h:inputText id="first-name-itxt" value="#{registrationBacking.newUser.firstName}"
                                     title="#{help.firstName}" required="true"
                                     requiredMessage="#{message.firstNameRequired}" maxlength="#{Const.FIRST_NAME_MAX}"
                                     styleClass="form-control"/>
                        <div><h:message for="first-name-itxt"/></div>
                    </div>
                    <!-- Last Name -->
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <h:outputText value="#{labels['lastName']}"/>
                            </span>
                        </div>
                        <h:inputText id="last-name-itxt" value="#{registrationBacking.newUser.lastName}"
                                     title="#{help.lastName}" required="true"
                                     requiredMessage="#{message.lastNameRequired}" maxlength="#{Const.LAST_NAME_MAX}"
                                     styleClass="form-control"/>
                        <div><h:message for="last-name-itxt"/></div>
                    </div>
                    <!-- Email -->
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <h:outputText value="#{labels['email']}"/>
                            </span>
                        </div>
                        <h:inputText id="email-itxt" value="#{registrationBacking.newUser.emailAddress}"
                                     title="#{help.email}" required="true"
                                     requiredMessage="#{message.emailRequired}" maxlength="#{Const.EMAIL_MAX}"
                                     styleClass="form-control">
                            <f:validator for="email-itxt" validatorId="emailAddressUnoccupiedValidator"/>
                            <f:validator for="email-itxt" validatorId="emailAddressLayoutValidator"/>
                        </h:inputText>
                        <div><h:message for="email-itxt"/></div>
                    </div>
                    <!-- Password -->
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <h:outputText value="#{labels['password']}"/>
                            </span>
                        </div>
                        <h:inputSecret id="password-iscrt" value="#{registrationBacking.newUser.passwordNotHashed}"
                                       title="#{help.password}" required="true"
                                       requiredMessage="#{message.passwordNeeded}" styleClass="form-control">
                            <f:validator for="password-iscrt" validatorId="passwordValidator"/>
                        </h:inputSecret>
                        <div><h:message for="password-iscrt"/></div>
                    </div>

                    <!-- Register button -->
                    <div>
                        <h:commandButton id="register-cbtn" value="#{labels.register}"
                                         action="#{registrationBacking.register}"/>
                    </div>
                    <!-- Login link -->
                    <div>
                        <h:link id="welcomepage-lnk" value="#{labels.welcomeLink}" outcome="/views/anonymous/welcome"
                                title="#{help.welcomePage}"/>
                    </div>
                </h:form>
            </div>
        </div>
    </ui:define>

</ui:composition>