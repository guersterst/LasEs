\lstset{
    language=Java,
    basicstyle=\ttfamily\selectfont\scriptsize,
}

\newcommand{\testlisting}[1]{\lstinputlisting[label={lst:#1},caption={#1.java}]{tests/#1.java}}

Es folgen Beispiele für Whitebox-Tests für verschiedene Arbeitspakete aus allen Milestones.
Sie sollen repräsentativ sein für bei der Implementierung entstehende Tests, sind aber nicht zwingend vollständige
Test-Suites für die jeweiligen Klassen oder Arbeitspakete.

\subsection{Milestone 1}\label{subsec:milestone1}

\subsubsection{Arbeitspaket \emph{Submission}}
\localauthor{Thomas Kirz}
\testlisting{SubmissionBackingTest}
\testlisting{SubmissionServiceTest}
\testlisting{SubmissionRepositoryTest}

    // add two submissions and test countSubmissions()
    @Test
    void testCountSubmissions() throws Exception {
        User user = new User();
        user.setId(EXAMPLE_USER_ID);

        Submission submission1 = new Submission();
        submission1.setId(EXAMPLE_SUBMISSION_ID_1);
        submission1.setAuthorId(EXAMPLE_USER_ID);
        submission1.setTitle(EXAMPLE_SUBMISSION_TITLE_1);

        Submission submission2 = new Submission();
        submission2.setId(EXAMPLE_SUBMISSION_ID_2);
        submission2.setEditorId(EXAMPLE_USER_ID);
        submission2.setTitle(EXAMPLE_SUBMISSION_TITLE_2);

        Transaction transaction = new Transaction();

        SubmissionRepository.add(submission1, transaction);
        SubmissionRepository.add(submission2, transaction);

        assertEquals(1, SubmissionRepository.countSubmissions(user, transaction));

        transaction.commit();
    }

}
\end{lstlisting}