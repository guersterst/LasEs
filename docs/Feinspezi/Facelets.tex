%% Macros
\newcommand{\ftable}[1]{\begin{sidewaystable}
\begin{tabular}[H]{ |m{1.5cm}| m{1.5cm}| m{3cm}| m{7cm} |m{4cm}| m{4cm}| }
    \toprule
    \textbf{ID} & \textbf{Typ} & \textbf{Beschreibung} & \textbf{Binding} & \textbf{Constraints} & \textbf{Validator \newline Converter} \\
    \midrule
    #1
    %\bottomrule
\end{tabular}
\end{sidewaystable}
}

\newcommand{\fentry}[6]{\footnotesize#1 &\footnotesize#2 &\footnotesize#3 &\footnotesize#4 &\footnotesize#5 &\footnotesize#6\\\hline}

\localauthor{Stefanie Gürster}

\subsection{Namenskonvention}

Zur Vereinheitlichung der Namensgebung der Komponenten in den Facelets verfahren wir nach dem \emph{kebab-case} Prinzip. Um den genauen Typ in die ID mit aufzunehmen, wird das entsprechende Suffix angehängt.

\todo{Suffix:}
 graphicImage = gIm link =lnk inputText =itext commandButton = cbtn messages = msgs dataTable = dtbl selectOneMenu = slctom panelGrid = pgrd commandLink = clnk

\subsection{Templates}

\begin{samepage}
	\todo{Serachfield needs view param?}
	\todo{Sebastians Rollenprüfung}
\textbf{navigation.xhtml} \phantomsection \label{flt:navbar} ist die Kopfzeile der Webanwendung. Diese bietet die Suchfunktion, Links zu verschiedenen Listen und dem Profil an.
\nopagebreak

\todo{Absprechen mit Sebastian und BB nicht vollstäandig}
\todo{outcome von links ist immer noch im ordner facelets. mit Johannes abklären und ausprobieren.}
\ftable{
	\fentry{logo-gimg}{<h:graphicImage>}{Logo der Applikation.}{value="\#{}"}{/}{/}

	\fentry{direct-to-home-lnk}{<h:link>}{Weiterleitung zur Homepage.}{outcome="/authenticated/homepage" \newline title="\#{help.toHome}"}{/}{/}

	\fentry{search-frm}{<h:form>}{Formular zur Suche.}{/}{/}{/}

	\fentry{search-Field-itxt}{<h:inputText>}{Suchleiste}{value="\#{navigationBacking.resultListParameters.globalSearchWord}" \newline title="\#{help.search}"}{/}{/}

	\fentry{search-cbtn}{<h:commandButton>}{Suche ausführen.}{action="\#{navigationBacking.search}"}{/}{/}

	\fentry{user-list-lnk}{<h:link>}{Link zur Übersichtsseite aller Nutzer}{value="\#{label.userList}" \newline outcome="/editor/userList \newline title="\#{help.userList}"}{render="\#{navigationBacking.sessionInformation.user.editor}"}{/}

	\fentry{forum-list-lnk}{<h:link>}{Link zur Übersichtsseite alle Journale und Konferenzen}{value="\#{label.forumList}" \newline outcome="/authenticated/scientificForumList" \newline title="\#{help.forumList}"}{/}{/}

	\fentry{logout-cbtn}{<h:commandButton>}{Loggt den Nutzer aus dem System aus und leitet zur Loginseite weiter.}{value="\#{label.logout}" \newline action="\#{navigationBacking.logout}" \newline title="\#{help.logout}"}{/}{/}

	\fentry{profile-lnk}{<h:link>}{Link zur Profilübersicht}{value="\#{label.nav.profile}" \newline outcome="/authenticated/profile"}{/}{/}
	}

\end{samepage}

\todo{wo css einbidnen?}

\begin{samepage}
	\textbf{main.xhtml} ist das Template, welches den Inhalt der Seiten zwischen Kopf- und Fußzeile einbettet.

	\ftable{
		\fentry{/}{<ui:include>}{\hyperref[flt:navbar]{Kopfzeile}}{src="navigation.xhtml"}{/}{/}

		\fentry{global-msgs}{<h:messages>}{Anzeigen globaler Nachrichten.}{/}{/}{/}

		\fentry{/}{<ui:insert>}{\hyperref[flt:pages]{Seiteninhalt}}{name="main-content"}{/}{/}

		\fentry{/}{<ui:include>}{\hyperref[flt:footer]{Fußzeile}}{src="footer.xhtml"}{/}{/}
	}
\end{samepage}

\todo{language bearbeiten}
\begin{samepage}
	\textbf{footer.xhtml} \phantomsection \label{flt:footer} ist die Fußzeile der Webanwendung und für alle sichtbar.
	\nopagebreak

	\ftable{
		\fentry{imprint-lnk}{<h:link>}{Link zur Seite des Impressums}{value="\#{label.footer.imprint}" \newline outcome="/anonymous/imprint" \newline too}{/}{/}

		\fentry{language-otxt}{<h:outputText>}{Anzeige der eingestellten Sprache.}{value="\#{}"}{/}{/}

	}
\end{samepage}

\todo{Toolbarbacking fehlt}
\todo{Validierung?}
\todo{Schätze wir brauchen doch min und mx length was ist wenn man zu lange usernames angibt?}
\todo{Datum internationalisieren?}
\todo{var als binding oder constraint?}
\todo{evtl kein rendern sonder abhängiges include in submission.xhtml?}
\todo{selectItem?}
\begin{samepage}
	\textbf{toolbar.xhtml} \phantomsection \label{flt:toolbar} ist die Seitenleiste für Editoren und Administratoren auf der Einreichungsübersicht. Hier wird die Einreichung verwaltet.
	\nopagebreak

	\ftable{
		\fentry{add-reviewer-iTxt}{<h:inputText>}{Eingabefeld zur Angabe einer E-Mail-Adresse}{value="\#{toolbarBacking.reviewerInput.email}" \newline title="\#{help.reviewerEmail}}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{emailAddressExistsValidator \newline required="true" \newline pattern="([\^.@]+)(\.[\^.@]+)*@([\^.@]+\.)+([\^.@]+)"}

		\fentry{add-deadline-reviewer-iTxt}{<h:inputText>}{Eingabefeld zur Angabe einer Deadline.}{value="\#{toolbarBacking.reviewedByInput.timestampDeadline}" \newline title="\#{help.reviewerDeadline}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{converterDateTime \newline patter="dd/MM/yyyy"}

		\fentry{add-reviewer-cbtn}{<h:commandButton>}{Knopf zum Hinzufügen des Gutachters}{value="\#{label.addReviewer}" \newline action="\#{}" \newline title="\#{help.addReviewer}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{reviewer-dtbl}{<h:dataTable>}{Liste der Gutachter}{value="\#{toolbarbacking.reviewer}" \newline var="review"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{remove-reviewer-cbtn}{<h:commandButton>}{Entferne einen bestimmten Gutachters.}{action="\#{toolbarBacking.removeReviewer}" \newline title="\#{help.removeReviewer}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{select-editor-slctom}{<h:selectOneMenu>}{Auswahländerung des verwaltenden Editors}{value="\#{}" \newline title="\#{help.selectEditor}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{save-editor-cbtn}{<h:commandButton>}{Speichern der Änderung des Editors.}{value="\#{label.saveEditor}" \newline action="\#{toolbarBacking.chooseNewManagingEditor}" \newline title="\#{help.saveEditor}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"E}{/}

		\fentry{show-editor-otxt}{<h:outputText>}{Anzeige des aktuellen Editors.}{value="\#{toolbarBacking.currentEditor}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{revision-deadline-iTxt}{<h:inputText>}{Eingabe zur Angabe einer Deadline.}{value="\#{toolbarBacking.submission.deadlineRevision}" \newline title="\#{help.revisionDeadline}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{converterDateTime \newline patter="dd/MM/yyyy"}

		\fentry{require-revision-cbtn}{<h:commandButton>}{Fordert den Einreicher auf, seine Einreichung zu überarbeiten}{value="\#{label.requireRevision}" \newline action="\#{toolbarBacking.requireRevision}" \newline title="\#{help.requireRevision}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{accept-submission-cbtn}{<h:commandButton>}{Akzeptiere die Einreichung}{value="\#{label.acceptSubmission}" \newline action="\#{toolbarBacking.acceptSubmission}" \newline title="\#{help.accesptSubmission}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

		\fentry{reject-submission-cbtn}{<h:commandButton>}{Lehne die Einreichung ab}{value="\#{label.rejectSubmission}" \newline action="\#{toolbarBacking.rejectSubmission}" \newline title="\#{help.rejectSubmission}"}{render="\#{toolbarBacking.sessionInformation.user.editor}"}{/}

	}
\end{samepage}

\begin{samepage}
	\textbf{pagination.xhtml} ist ein Composite Component zur Paginierung von Listen.
	\nopagebreak
	
	\ftable{
		\fentry{/}{<composite:attribute>}{Paginator Attribut.}{name="paginator" \newline type="de.lases.control.internal.Pagination"}{required="true"}{/}
		
		\fentry{pagination-dtbl}{<h:dataTable>}{Hier werden die Spalten eingefügt. Durch Klicken auf die Spaltennamen werden die Einträge sortiert. Zusätzlich kann durch ein Textfeld die Liste gefiltert werden.}{value="\#{cc.attrs.paginator.entries}"\newline var="var"}{/}{/}
		
		\fentry{/}{<composite:insertChildren>}{Einfügen benötigter Spalten.}{/}{/}{/}
		
		\fentry{apply-cbtn}{<h:commandButton>}{Mit diesem Knopf können gewählte Filter angewandt werden.}{value="\#{label.applyFilter}" \newline action="\#{cc.attrs.paginator.loadData}" \newline title="\#{help.applyFilter}"}{/}{/}
		
		\fentry{navigation-pgrd}{<h:panelGrid>}{Hier befinden sich die Knöpfe zur Navigation zwischen den Seiten der Paginierungen.}{columns="5"}{/}{/}
		
		\fentry{first-page-cbtn}{<h:commandButton>}{Zurück zur ersten Seite.}{value="\#{label.firstPage}" \newline action="\#{cc.attrs.paginator.firstPage}" \newline title="\#{help.firstPage}"}{/}{/}
		
		\fentry{prev-page-cbtn}{<h:commandButton>}{Eine Seite zurück.}{value="\#{label.prevPage}" \newline action="\#{cc.attrs.paginator.priviousPage}" \newline title="\#{help.prevPage}"}{/}{/}
		
		\fentry{current-page-otxt}{<h:outputText>}{Nummer der aktuellen Seite.}{value="\#{cc.attrs.paginator.currentPage}" \newline title="\#{help.currentPage}"}{/}{/}
		
		\fentry{next-page-cbtn}{<h:commandButton>}{Eine Seite weiter.}{value="\#{label.nextPage}" \newline action="\#{cc.attrs.paginator.nextPage}" \newline title="\#{help.nextPage}"}{/}{/}
		
		\fentry{last-page-cbtn}{<h:commandButton>}{Zur letzten Seite.}{value="\#{label.lastPage}" \newline action="\#{cc.attrs.paginator.lastPage}" \newline title="\#{help.lastPage}"}{/}{/}
		
	}
\end{samepage}

\begin{samepage}
	\textbf{sortfiltercolumn.xhtml} ist ein Composite Component, das eine sortierbare und filterbare Spalte einer Liste modelliert.
	\nopagebreak
	
	\ftable{
		\fentry{/}{<composite:attribute>}{Implementation der abstrakten Klasse.}{name="paginator" \newline type="de.lases.control.internal.Pagination"}{required="true"}{/}
		
		\fentry{/}{<composite:attribute>}{Anzeigename im Spaltenkopf.}{name="columnIdent" \newline type="java.lang.String"}{required="true"}{/}
		
		\fentry{/}{<composite:attribute>}{String Identifier der Spalte.}{name="columnName" \newline type="java.lang.String"}{required="true"}{/}
		
		\fentry{/}{<composite:attribute>}{Spaltennummer, null indiziert.}{name="coulumnNo" \newline type="java.lang.String"}{required="true"}{/}
		
		\fentry{column-name-clnk}{<h:commandLink>}{Durch Klicken auf den Spaltennamen wird nach dieser Spalte aufsteigend, bzw. absteigend sortiert.}{value="\#\{cc.attrs.columnNamei18n\}" \newline action="\#\{cc.attrs.paginator.sortBy[cc.attrs.columnNo]\}"}{/}{/}
		
		\fentry{column-filter-itxt}{<h:inputText>}{Hier kann ein Wert eingegeben werden, nach dem die Spalte dann gefiltert wird.}{value="\#\{cc.attrs.paginator.searchWords[cc.attrs.columnNo]\}"}{/}{/}
	}
	
\end{samepage}

\subsection{Seiten}


%% Ab hier sind Bastis hinzugefügte Änderungen

\begin{samepage}
	\textbf{newScientificForum.xhtml} Auf der Seite zum Erstellen eines wissenschaftlichen Forums kann ein Administrator dessen wesentlichen Daten festlegen.
	\nopagebreak

	\ftable{

		\fentry{forum-name-itxt}{<h:inputText>}{Angabe des Name des Forums.}{A}{}{}

		\fentry{editors-list}{<h:dataTable>}{Liste der Editoren}{A}{}{}

		\fentry{email-editor-itxt}{<h:inputText>}{Angabe der E-Mail-Adresse eines Editor.}{A}{}{}

		\fentry{add-editor-btn}{<h:commandButton>}{Hinzufügen eines Editors in eine Liste.}{A}{}{}

		\fentry{delete-editor-btn}{<h:commandButton>}{Löschen des zugehörigen Editors von der Liste.}{A}{}{}

		\fentry{deadline-itxt}{<h:inputText>}{Hinzufügen einer Deadline des Forums.}{A}{}{}

		\fentry{description-itxt}{<h:inputTextArea>}{Angabe einer Kurzbeschreibung.}{A}{}{}

		\fentry{url-itxt}{<h:inputText>}{Link zur Konferenz oder zum Journal.}{A}{}{}

		\fentry{review-instructions-itxt}{<h:inputTextArea>}{Angabe einer Anleitung für eine Begutachtung.}{A}{}{}

		\fentry{science-field-list}{<h:outputText>}{Liste der ausgewählten Fachgebiete.}{A}{}{}

		\fentry{science-field-list}{<p:selectOneListbox>}{Auswahl von Fachgebieten.}{A}{}{}

		\fentry{new-science-field-itxt}{<h:inputText>}{Hinzufügen neuer Fachgebiete.}{A}{}{}

		\fentry{add-science-field-btn}{<h:commandButton>}{Ausführen der Hinzufüge-Aktion.}{A}{}{}

		\fentry{save-btn}{<h:commandButton>}{Speichern des neuen Forums.}{A}{}{}

		\fentry{abort-btn}{<h:commandButton>}{Abbruch des Erstellungsprozesses.}{A}{}{}
	}
\end{samepage}