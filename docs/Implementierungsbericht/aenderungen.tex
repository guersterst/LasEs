\localauthor{Stefanie Gürster}

\subsection{Klassen}

Damit ein Weiterleiten auf die nächste Seite einer \emph{Pagination} funktioniert, müssen alle zugehörigen Einträge gezählt werden. Dies übernehmen Methoden im Service sowie in den Repositories mit der Namenskonvention \emph{count...()}. Eine solche Methode wird zum Beispiel im PaperService verwendet, um alle Paper einer Submission zu zählen. Um Redundanzen im Folgenden zu vermeiden wird diese Methode im Weiteren nicht mehr angesprochen.

\todo{SubmissionService: addReviewer(ohne Submission)}

\subsubsection{business.internal}

\textbf{Lifetime} In der Methode \emph{startup()} wird nun zusätzlich ein FileDTO, welches \emph{logger properties} als \emph{ImputStream} enthält, als Parameter übergeben.

\textbf{PeriodicWorker} Um den PeriodicWorker zu implementieren wird ein Timer Objekt verwendet. Dieser Timer wird durch \emph{init()} gestartet und durch \emph{stop()} gestoppt.

\subsubsection{business.service}

\textbf{PaperService} Für die Methode \emph{getLatest()} wird nur ein Submission-DTO benötigt und kein User-DTO wie zuvor angenommen. \newline
Die Methode \emph{remove()} wurde entfernt, da sie nicht benötigt wird.

\textbf{ScienceFieldService} Die Funktion eine einzelnes Fachgebiet mit \emph{get()} zu laden wurde nicht benötigt.

\textbf{SubmissionService} In \emph{add()} werden zusätzlich ein Paper-DTO, sowie ein File-DTO mitübergeben. Im Gegensatz dazu wird eine Liste von Gutachter nicht mehr benötigt. \newline
Der Rückgabewert der Methode \emph{change()} wurde von \emph{void} zu \emph{boolean} verändert, um Rückmeldung der Änderung zu erhalten. \newline
Beispielsweise wird in der Toolbar eine Liste von Gutachtern der jeweiligen Einreichung geladen. Daher wurde die Methode \emph{getList(Submission submission)} neu hinzugefügt. \newline
Die Methode \emph{releaseReview()} wird bereits im \emph{ReviewService} durch \emph{change()} implementiert und ist somit hier überflüssig. \newline
Ebenso wird die Methode \emph{addCoAuthor()} nicht mehr verwendet, da Co-Autoren nur bei der Einreichung selbst hinzugefügt werden. Die Funktionalität liegt also schon in der Methode \emph{add()}.

\textbf{UserService} Um den Avatar eines Nutzers zu löschen, wird \emph{setAvatar()} verwendet. Daher ist \emph{deleteAvatar()} überflüssig. \newline
Die Methode \emph{getVerification()}, welche bestimmt ob eine E-Mail-Adresse schon verifiziert ist, wird nicht mehr benötigt, da die Verifikation bereits über \emph{isVerified()} aus dem User DTO abgefragt, oder über \emph{verify()} eine E-Mail-Adresse verifiziert werden kann.

\subsubsection{business.util}

\textbf{EmailUtil} Aufgrund von Benutzerfreundlichkeit wird
werden in einigen E-Mails auch passend generierte Links mit versendet. Dafür wurden folgende Methoden neu hinzugefügt: \emph{generateLinkForEmail, generateSubmissionURL, generateForumURL}.

\localauthor{Johannes Garstenauer}

\subsubsection{persistence.util}

\textbf{DataSourceUtil} Es ist die Methode \emph{logSQLException()} hinzugekommen, welche die Erstellung
semantisch aussagekräftiger Logs für \emph{SQL-Exceptions} ermöglicht.

Hierbei ist auch die neue Klasse \textbf{TransientSQLExceptionChecker} zu erwähnen, welche
die Methode \emph{isTransient()} anbietet.
Hierdurch ist es möglich, zu überprüfen, ob ein Vorgang,
welcher eine \emph{SQL-Exception} hervorgerufen hat, bei einem erneutem Versuch
mit gleichen Parametern funktionieren könnte.
Dies ermöglicht es den Entwicklern einen Nutzer darauf hinzuweisen,
eine fehlgeschlagene Operation erneut zu versuchen.

\subsubsection{persistence.repository}

\textbf{PaperRepository} Es gibt keine \emph{setPDF()}-Methode mehr.
Generell wurden im gesamten Entwicklungsprozess des öfteren individuelle Setter für
bestimmte Datenelemente zugunsten von allgemeineren \emph{add()} und \emph{change()} Methoden ersetzt.
Diese enthalten dann alle Datenelemente eines zugehörigen Facelets.
Hierduch entstehen übersichtlichere Interfaces.

\textbf{ConnectionPool} Die neue Methode \emph{getNumberOfFreeConnections}
wurde hinzugefügt um ein aussagekräftigeres Logging der Verwendung von Connections
zu ermöglichen.
Dies fand vor allem im Finden von \emph{Connection-Leaks} Verwendung.

\textbf{ReviewedByRepository} Die Notwendigkeit der neuen Methoden
\emph{removeReviewer()} und \emph{getList()} hat sich erst im Laufe des
Entwicklungsprozesses ergeben.
\todo{hier verallgemeinern}

\textbf{ReviewRepository} setPDF remove nicht mehr vorhanden:
siehe PaperRepository

\textbf{ScienceFieldRepository} Die \emph{get()} Methode,
zum Erhalten eines wissenschaftlichen Themas, wurde schlichtweg nicht benötigt,
da es sich um ein \emph{DTO} mit wenig Inhalt und geringer Wichtigkeit im System handelt.

\textbf{SubmissionRepository} Die \emph{removeReviewer()-Methode war hier schlicht an
der falschen Stelle. Sie hätte sich schon in der Dokumentation im \emph{ReviewedByRepository}
befinden sollen.
\todo{verknüpfen mit reviewedbyrepository}

\textbf{UserRepository} fehlte: addVerification (umbenannt: setVerification), changeVerification, ein getVerification


